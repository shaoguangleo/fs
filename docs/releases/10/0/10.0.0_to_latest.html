<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<meta name="author" content="Version 2.1 - August 2021">
<title>FS 10.0.0 to Latest Commit Update Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>FS 10.0.0 to Latest Commit Update Notes</h1>
<div class="details">
<span id="author" class="author">Version 2.1 - August 2021</span><br>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_upgrading_from_10_0_0_to_the_latest_commit">2. Upgrading from 10.0.0 to the latest commit</a>
<ul class="sectlevel2">
<li><a href="#_fetch_and_make_the_latest_commit">2.1. Fetch and make the latest commit</a></li>
<li><a href="#_reboot">2.2. Reboot</a></li>
<li><a href="#_additional_steps">2.3. Additional steps</a></li>
<li><a href="#_review_changes">2.4. Review changes</a></li>
</ul>
</li>
<li><a href="#_changes_since_10_0_0">3. Changes since 10.0.0</a>
<ul class="sectlevel2">
<li><a href="#_fs_changes">3.1. FS changes</a></li>
<li><a href="#_drudg_changes">3.2. drudg changes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The document covers updating from FS <em>10.0.0</em> to the <em>latest commit</em>
on its branch. The latest commit is experimental. We make ever effort
to keep the latest commit usable, but any commit that is not tagged
for release is not intended for operations. The intended use of this
document is to collect update information, as it becomes available,
before the next release.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Commits that are not tagged for release may have
significant issues including: not building, crashing, and
incompatibilities with operational observation schedule files. Such
commits are intended for testing only. <em>Let the user beware.</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
It is expected that those using the latest commit are experts
and will manage the differences for updating to the next official
release themselves. No specific documentation will be provided. What
commit was last updated to will determine what needs to be done.  It
might work to verify that all the steps in the latest version of this
document, appropriately renamed as an update from the old release to
the new release, were completed. An alternate, but not necessarily
complete, approach would be to review the update steps in the new
release to make sure everything has been covered. <em>Let the user
beware.</em>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document is up to date with the features in the <code>64df6ffa</code>
commit. Due to small increments, such as updating this document, that
may not be the literal last commit, but the differences should be
small unless you happen to <code>pull</code> between a significant change and
this document being updated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrading_from_10_0_0_to_the_latest_commit">2. Upgrading from 10.0.0 to the latest commit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must have already upgraded to <em>10.0.0</em> according to the
<a href="10.0.0.html">FS 10.0.0 Update Notes</a> document before installing
this update.</p>
</div>
<div class="sect2">
<h3 id="_fetch_and_make_the_latest_commit">2.1. Fetch and make the latest commit</h3>
<div class="paragraph">
<p>If you are using <em>git</em>, as is recommended, then as <em>prog</em>
execute:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd /usr2/fs-git
git fetch
git checkout master
make clean rmdoto rmexe
make &gt;&amp; /dev/null
make -s</pre>
</div>
</div>
<div class="paragraph">
<p>No output from the last command indicates a successful <em>make</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reboot">2.2. Reboot</h3>
<div class="paragraph">
<p>This will make sure the FS server is restarted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_steps">2.3. Additional steps</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the FS to check for <em>.rxg</em> file errors.</p>
<div class="paragraph">
<p>Five additional formatting errors are now reported for <em>.rxg</em> files.
While it is unlikely, if your <em>.rxg</em> files have any of these errors,
they will be reported when you try to run the FS. Only one error is
reported at a time. You will need to correct each error in turn until
the FS starts successfully.  The new errors reported are described in
the <a href="#additional_rxg_errors">Additional .rxg file errors</a> change in
the <a href="#_fs_changes">FS changes</a> sub-section below.</p>
</div>
</li>
<li>
<p>Adjust <em>~/.session</em> if you are using <em>tcsh</em> as your
login shell for <em>oper</em> or <em>prog</em> (or AUID accounts).</p>
<div class="paragraph">
<p>This step is optional, but may be helpful if you are using <em>tcsh</em> as
your login shell for <em>oper</em> and/or <em>prog</em> (or AUID accounts) and use
the FS with the graphical display on the console.  For this case, you
may wish to make the changes in the <a href="10.0.0.html#xsession">Updating
~/.xsession</a> sub-step in
<a href="10.0.0.html#_miscellaneous_fslx_changes">Miscellaneous FSLx changes</a>
step of the <a href="10.0.0.html">FS 10.0.0 Update Notes</a> document.</p>
</div>
<div class="paragraph">
<p>This change will make sure the window manager (<em>fvwm2</em>) operates
with the FS runtime environment variables set. This could be important
for example, if you want to run <em>fsclient</em> (perhaps for a
<code>scan_check</code> window) from a console hotkey.</p>
</div>
</li>
<li>
<p>Make the <code>scnch</code> and <code>erchk</code> windows <code>NeverFocus</code>.</p>
<div class="paragraph">
<p>This step is optional. You may want to add <code>NeverFocus</code> for the
<code>scnch</code>, <code>erchk</code>, and <code>monan</code> windows in your <em>~/.fvm2rc</em> files so
they will never accidentally get the focus (they don&#8217;t accept input).
They will still be able to be scrolled. If this is desired, add the
lines:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Style "erchk" NeverFocus
Style "scnch" NeverFocus
Style "monan" NeverFocus</pre>
</div>
</div>
<div class="paragraph">
<p>As <em>oper</em>, you can compare your version of the file with the new
default using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd
diff .fvwm2rc /usr2/fs/st.default/oper</pre>
</div>
</div>
<div class="paragraph">
<p>You can make the same change for <em>prog</em>, after logging into that
account.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_review_changes">2.4. Review changes</h3>
<div class="paragraph">
<p>Please see the <a href="#_changes_since_10_0_0">Changes since 10.0.0</a> section below for the details
of the changes since that release.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changes_since_10_0_0">3. Changes since 10.0.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are separate sub-sections with summaries of changes in the FS
and <em>drudg</em>.</p>
</div>
<div class="paragraph">
<p>Clickable links such as
<a href="https://github.com/nvi-inc/fs/issues/36">#36</a> connect to specific issues
reported at <a href="https://github.com/nvi-inc/fs/issues" class="bare">https://github.com/nvi-inc/fs/issues</a>.</p>
</div>
<div class="paragraph">
<p>A complete history of changes can be found using the <code>git log</code> command
from within the FS <em>git</em> archive directory, usually <em>/usr2/fs-git</em>.</p>
</div>
<div class="sect2">
<h3 id="_fs_changes">3.1. FS changes</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Improve <em>msg</em> to always pick-up a new log file name (closing
<a href="https://github.com/nvi-inc/fs/issues/118">#118</a>).</p>
<div class="paragraph">
<p>Previously <em>msg</em> only read the log file (and session) name on start-up
and when sending messages. It was modified to reread the log file (and
session) name whenever a new form is displayed. As a result, selecting
any form or send a sending a message from one will cause the log file
name to be reread (and session name reset), in other words, this will
occur for any significant user action. This should provide more
intuitive behavior, primarily because it is no longer necessary to
restart <em>msg</em> for each session.  The setting of the session name when
reading the log file name can be turned off by disabling the <code>Setup</code>
selection <code>Get session name from log</code> if it is not desired.</p>
</div>
<div class="paragraph">
<p>Thanks to Jonathan Quick (HartRAO) for reporting the issue, providing
feedback on the changes,  and testing the fix.</p>
</div>
</li>
<li>
<p>Add command line options to <em>rdbemsg</em>.</p>
<div class="paragraph">
<p>Two command line options were added to <em>rdbemsg</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-f</code>&#8201;&#8212;&#8201;which takes an integer argument to set the font size,
default is <code>14</code></p>
</li>
<li>
<p><code>-g</code>&#8201;&#8212;&#8201;which takes a string argument to set the window geometry,
default is not to set it</p>
<div class="paragraph">
<p>Only the position part of the geometry should be set with <code>-g</code>, e.g.,
<code>-g&#160;-0-0</code>.  The useful way to control the size is with <code>-f</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Add adjustable log size warning message (closing
<a href="https://github.com/nvi-inc/fs/issues/114">#114</a>).</p>
<div class="paragraph">
<p>When a log is opened (including <em>station.log</em> when starting the FS,
there was  a warning error if the size exceeded 100 MB. Different
stations may find different sizes useful. The size for the warning is
now adjustable by setting the environment variables
<code>FS_LOG_SIZE_WARNING</code> to the desired size in MB. If it is not set, it
defaults to 100 MB.</p>
</div>
<div class="paragraph">
<p>The FS must be restarted in a session with the variable set for it to
take effect. If the display server is in use, <em>fsserver</em> must be
stopped (or the system rebooted) <em>after</em> stopping the FS and <em>before</em>
restarting it with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>fsserver stop</pre>
</div>
</div>
<div class="paragraph">
<p>Thanks to Kiah Imai (KPGO) for suggesting this.</p>
</div>
</li>
<li>
<p>Increase buffer size for recovering a deleted log.</p>
<div class="paragraph">
<p>If a log file is not locatable as a file (it has been deleted or
renamed) when a user command would close the log, the FS will attempt
to recover the file and give it its original name. The buffer used to
recopy the file was increased to 2 Mib (512 sectors) so it is faster,
particularly for very large experiment logs with multicast data.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The recovery will not work if in the meantime a file has
been created with the same name. The FS will think that is the log and
give up. The log file contents will be lost. Using <code>log=<em>name</em></code> or
<code>schedule=<em>name</em></code> will not cause this.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As part of this change, the handling of the file size and positions
were restored to using <code>long</code> variables. These had been changed to
<code>int</code> variables by the bulk <em>unlongify</em> before <em>10.0.0-beta1</em>, but hadn&#8217;t
been changed back.</p>
</div>
</li>
<li>
<p>Fix <em>gndat</em>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Correct bad Tsys data in <em>gnplt</em> (closing
<a href="https://github.com/nvi-inc/fs/issues/107">#107</a> and
<a href="https://github.com/nvi-inc/fs/issues/104">#104</a>).</p>
<div class="paragraph">
<p>This was caused by an incorrectly sized array in <em>gndat</em> that was
introduced in commit <code>f84a2bb9</code> dated June 2003.  This error was
benign unless more than 20 detectors were used in a single <em>onoff</em>
run.  Before the advent of RDBEs and DBBC3s, this was unlikely, but
not impossible.</p>
</div>
<div class="paragraph">
<p>Due to the layout of the automatic variables, this error should only
have impacted <code>Tsys</code> and <code>Tsys-Tspill</code> data in <em>gnplt</em> and only when
there were more than 20 detectors used. However, also considering the
layout of the automatic variables, it is unclear why there were not
catastrophic program failures in such a case. It would be prudent to
reanalyze any current data sets that used more than 20 detectors with
the fixed version to see if the results change.</p>
</div>
<div class="paragraph">
<p>Thanks to Beppe Maccaferri (Medicina), and subsequently Eskil Varenius
(Onsala), for reporting this issue.</p>
</div>
</li>
<li>
<p>Remove extraneous <em>gndat</em> debug output for the processing of
weather data.</p>
<div class="paragraph">
<p>The debug output was not visible when <em>gndat</em> was run from <em>gnplt</em>,
which is normally the only way it is run.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Update <em>plog</em>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fix <em>plog</em> to only refuse to reduce a log with multicast data if it
is the active log in the FS.</p>
<div class="paragraph">
<p>In the process of reducing a log (removing multicast data), the log is
renamed. This can cause a log recovery to occur if the log is
currently open in the FS since it appears to be missing. This was
protected against by <em>plog</em>, which would refuse to rename the log if
it was open to any program. This meant that if the log was was being
viewed with <code>tail -f</code> or <em>less</em> it could not be renamed. However,
<em>plog</em> only needed to refuse if the log was open in the FS (by
<em>ddout</em>). This was fixed so that <em>plog</em> will only refuse to rename the
log if it is open in the FS.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In such a case, the operator needs to close the log before
running <em>plog</em> on it. That is good practice in any case.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Other, non-reduction, log processing by <em>plog</em> was not affected
by this issue since renaming is not needed. It is still good practice
to close the log before pushing it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Thanks to Katie Pazamickis and Jay Redmond (both at GGAO) for
reporting this.</p>
</div>
</li>
<li>
<p>Add use of <em>bzip2</em> compression to <em>plog</em>.</p>
<div class="paragraph">
<p><em>plog</em> will now use <em>bzip2</em> as the default program for compressing
<em>_full.log</em> files to send to the data centers. It is possible to use
<em>gzip</em> instead by setting the environment variable
<code>PLOG_COMPRESSED_EXT</code> to <code>gz</code> or using the <code>-g</code> command line option.
Please use <code><strong>plog&#160;-h</strong></code> for more information.</p>
</div>
</li>
<li>
<p>Respect <code>NETRC_DIR</code> for the <code>BKG</code> data center (closing
<a href="https://github.com/nvi-inc/fs/issues/113">#113</a>).</p>
<div class="paragraph">
<p>This had been overlooked in
<a href="https://github.com/nvi-inc/fs/issues/39">#39</a>, which had added the
<code>NETRC_DIR</code> environment variable.</p>
</div>
<div class="paragraph">
<p>Thanks to Kiah Imai (KPGO) for reporting this and testing the fix.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Update <em>fesh</em>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add <code>-P</code> option to print the summary listing to the printer (closing
<a href="https://github.com/nvi-inc/fs/issues/112">#112</a>).</p>
<div class="paragraph">
<p>With <code>-P</code>, when <em>drudg</em> is run by <em>fesh</em>, it will print the summary
directly to the printer. It is appropriate to make this a <em>fesh</em>
option since it is an integrated feature of <em>drudg</em>. To print other
files, it is recommended to make a wrapper for <em>fesh</em>. An example
wrapper, that prints the summary and the <em>.prc</em> file, is included as
<em>/usr2/fs/fesh/feshp</em>. This can be copied to <em>~oper/bin</em> and
customized to print other files.</p>
</div>
<div class="paragraph">
<p>Thanks to Kiah Imai (KPGO) for suggesting this.</p>
</div>
</li>
<li>
<p>Add <code>-S</code> option to <em>fesh</em> to skip downloading.</p>
<div class="paragraph">
<p>This allows <em>fesh</em> to trigger the normal <em>drudg</em> processing when the
schedule is already on the disk. This might be useful for example, if
the schedule was generated locally by shifting the schedule (<em>drudg</em>
option <code>10</code>).</p>
</div>
</li>
<li>
<p>Map station code to lower case (closing
<a href="https://github.com/nvi-inc/fs/issues/136">#136</a>).</p>
<div class="paragraph">
<p>Before the station code was expected to be lower case. If it wasn&#8217;t,
this could cause a conflict with <em>drudg</em> which maps it to lower case.
This could result in a mismatch on the file names for deleting <em>.snp</em>
and <em>.prc</em> files with the <code>-f</code> option. <em>fesh</em> now maps the station
code, from both the <code>STATION</code> environment variable and <code>-s</code> option, to
lower case.</p>
</div>
<div class="paragraph">
<p>Thanks to Eskil Varenius (Onsala), for reporting this issue.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Clean-up suppressing of signals.</p>
<div class="openblock">
<div class="content">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Remove redundant ignoring of signals in <em>ddout</em> and <em>oprin</em>
(partially closing <a href="https://github.com/nvi-inc/fs/issues/100">#100</a>).</p>
</li>
<li>
<p>Re-enable suppression of signals (partially closing
<a href="https://github.com/nvi-inc/fs/issues/100">#100</a>).</p>
<div class="paragraph">
<p>As of <em>10.0.0-beta1</em>, the previous practice of disabling receipt of
certain signals, in particular <code>SIGINT</code> (for <span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span>) had been
removed. It has been reinstated. When the FS is run without the
display server, this assures that no FS programs will be aborted if a
<span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span> is accidentally entered in the terminal session where
the FS is running. However, this does not prevent a <span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span>
from killing an <em>xterm</em> that is wrapped around a FS program (typically
only <em>oprin</em>) in the FS terminal session from being killed.
Preventing that is discussed next.</p>
</div>
</li>
<li>
<p>Use <code>setsid()</code> to shelter <em>xterm</em>s from keyboard generated
<span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span>.</p>
<div class="paragraph">
<p>To prevent <span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span> killing an <em>xterm</em> in the FS terminal
session all <code>x</code> programs in <em>fspgm.ctl</em> and <em>stpgm.ctl</em> (usually just
<em>oprin</em>) are now run under <code>setsid()</code> when the display server is not
being used. This disconnects the programs from the terminal session
that the FS is being run in, thereby preventing a <span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span> from
reaching them, but not otherwise affecting them.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>With these changes, it should no longer be possible to kill the FS
with a <span class="keyseq"><kbd>Control</kbd>+<kbd>C</kbd></span>, even when the display server is not being
used.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
An FS <em>xterm</em>  window can still be terminated using the
decorations for the window. When the FS is not being running with the
display server, this will kill the FS <em>abnormally</em>. The decoration
button that includes the <code>Delete</code> and <code>Destroy</code> options can be removed
if desired. In the <em>~/.fvm2rc</em> file include <code>NoButton 1</code> in the
window&#8217;s <code>Style</code> (see the <code>Style "oprin" &#8230;&#8203;</code> line in
<em>st.default/oper/.fvwm2rc</em> for an example).
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Record <em>fsserver</em> error messages (closing
<a href="https://github.com/nvi-inc/fs/issues/105">#105</a>).</p>
<div class="paragraph">
<p>The display server now makes a file with a name of the form
<em>~/fsserver.&lt;time-stamp&gt;.err</em> each time it is started. It is used to
collect server error information. The file will be deleted if
<em>fsserver</em> terminates normally. If you experience a server crash,
please send this file to Ed or post it as part of an issue on
<em>github</em>. The <em>&lt;time-stamp&gt;</em> portion of the name will correspond to
the time when the server was last started before the crash. That is
usually when the FS was first started after the last boot. Any file of
this type with non-empty contents is worth reporting.</p>
</div>
<div class="paragraph">
<p>Thanks to Dave Horsley (AuScope) for suggesting this and contributing
to the implementation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The FS also makes a file with a name of the form
<em>~/fs.&lt;time-stamp&gt;.err</em> each time it is started. It is used to collect
FS error information. The FS will attempt to delete this file if it
terminates normally. If you experience a FS crash, please send this
file to Ed or post it as part of an issue on <em>github</em>. The
<em>&lt;time-stamp&gt;</em> portion of the name will correspond to the time when
the FS was last started before the crash.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add explanatory comments to the example <em>flux.ctl</em> control file (closing
<a href="https://github.com/nvi-inc/fs/issues/121">#121</a>).</p>
<div class="paragraph">
<p>Although the data used in the file came from other sources, for many
years the code that read the <em>flux.ctl</em> file was the complete
documentation for the format.  The example file in
<em>/usr2/fs/st.deafault</em> now includes the details in an easier to read
form. You can merged these comments, which are at the end of the
example file, into your local copy or refer to the example.</p>
</div>
<div class="paragraph">
<p>Thanks to Stuart Weston (Warkworth) for suggesting this and
contributing some of the information in the comments.</p>
</div>
</li>
<li>
<p>Improve error messages when reading <em>flux.ctl</em> (closing
<a href="https://github.com/nvi-inc/fs/issues/124">#124</a>).</p>
<div class="paragraph">
<p>The error messages when reading <em>flux.ctl</em> were confusing and
uninformative. This has been the situation since the file was first
added in October 2002, for version <em>9.5.15</em> (commit <code>1b68b90f</code>).
Apparently, this was not a significant issue because, apparently,
modifying the default contents was uncommon. If you have been having
trouble with this, we apologize.</p>
</div>
<div class="paragraph">
<p>The error messages have been more explicit about the cause of any read
error and the offending line is printed to aid in correcting the
problem.</p>
</div>
<div class="paragraph">
<p>Thanks to Stuart Weston (Warkworth) for reporting this.</p>
</div>
</li>
<li>
<p>Improve error messages when reading <em>.rxg</em> files.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make error messages more informative (closing
<a href="https://github.com/nvi-inc/fs/issues/83">#83</a>).</p>
<div class="paragraph">
<p>The error messages when reading <em>.rxg</em> files  were confusing and
uninformative. This has been the situation since <em>.rxg</em> files were
first added in October 2002, for version <em>9.5.15</em> (commit <code>1b68b90f</code>).
Apparently, this was not a significant issue because <em>.rxg</em> files were
usually updated by <em>gnplt</em>, which wrote correctly formatted lines. If
you have been having trouble with this, we apologize.</p>
</div>
<div class="paragraph">
<p>The error messages have been more explicit about the cause of any read
error. Unfortunately, it is not possible to show the offending line
without more significant changes. However, the messages are fairly
explicit about where the error occurred.</p>
</div>
<div class="paragraph">
<p>The same reading routine is used in <em>gnplt</em> (which uses <em>gndat</em> to
read the <em>.rxg</em> files) for consistency. Unfortunately, the error
messages for <em>gnplt</em> will still not be as informative, but restarting
the FS should provide a more explicit error message that help make it
clear what the problem is. If it is not possible to use the FS for
this, another strategy is to use the error number reported in status
line at the bottom of <em>gnplt</em> to identify the corresponding <code>RG</code> error
in <em>controlfserr.ctl</em>.</p>
</div>
</li>
<li>
<p><a id="additional_rxg_errors"></a><a href="#additional_rxg_errors">Additional .rxg
file errors</a>: Five additional errors are now reported (closing
<a href="https://github.com/nvi-inc/fs/issues/134">#134</a>):</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The third field on the LO line is missing for type <code>range</code>.</p>
</li>
<li>
<p>If a third field exists on the LO line, but does not decode as a
number.</p>
</li>
<li>
<p>The second field on the FWHM line is missing for type <code>constant</code>.</p>
</li>
<li>
<p>If a second field exists on the FWHM line, but does not decode as a
number.</p>
</li>
<li>
<p>A field exists after the gain curve coefficients, but is not
<code>opacity_corrected</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>While it is unlikely, if any of your <em>.rxg</em> files have these errors,
they will be reported the first time you run the FS after the update.
You can correct them at that time. The error messages should be pretty
clear.</p>
</div>
<div class="paragraph">
<p>A few other, minor, errors are still not being caught. In particular,
if a character that cannot be part of a numeric field appears
<em>within</em>, or at the end of, a numeric field, that error will not be
reported. In that case, the field up to the out-of-place character will
be used as the value. Hopefully this is an unlikely error. A leading
character that cannot be part of a numeric field will be reported as
an error.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Add instructions to the example <em>.xsession</em> files for how to
make them work correctly when <em>tcsh</em> is the login shell.</p>
<div class="paragraph">
<p>Instructions for implementing this were added to the <a href="10.0.0.html">FS
10.0.0 Update Notes</a> document as the <a href="10.0.0.html#xsession">Updating
~/.xsession</a> sub-step in the
<a href="10.0.0.html#_miscellaneous_fslx_changes">Miscellaneous FSLx changes</a>
step.</p>
</div>
</li>
<li>
<p>Add use of <code>NeverFocus</code> for the <code>scnch</code> and <code>erchk</code> windows in
the <em>.fvwm2rc</em> files.</p>
<div class="paragraph">
<p>This was previously added in <em>10.0.0-beta1</em>, but removed on <em>10.0.0</em>
because it was thought to prevent scrolling of those windows. However,
that turned out to not be the case. Using this setting prevents the
focus from accidentally being given to these windows, which don&#8217;t
accept input. This only affects behavior on the console GUI.</p>
</div>
</li>
<li>
<p>Correct error in FORTRAN calls to get FiLa10G time for <em>setcl</em>.</p>
<div class="paragraph">
<p>An argument was missing. This was a bug from the VGOS branch, which
technically do not support using <em>setcl</em> for FiLa10G. The bug
apparently did not affect versions since the merge since there was a
relatively low, not quite 1 in 2<sup>32</sup> chance of it being excited.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>setcl</em> only works for the first FiLa10G if there are two. A
second is only used for VGOS. <em>fmset</em> works for both.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Correct <code>bbc_gain</code> command error codes.</p>
<div class="paragraph">
<p>If an error occurred in the monitor form of the command, the error was
reported as <code>di</code> instead of <code>dg</code>.</p>
</div>
</li>
<li>
<p>Add description of using inline anchors.</p>
<div class="paragraph">
<p>These can be used to making linking references to arbitrary text in
the documents. The description also shows how to make the anchor
visible in the text. This is described in the
<a href="../../../misc/font_conventions.html#_linking_to_inline_anchors">Linking
to inline anchors</a> subsection of the
<a href="../../../misc/font_conventions.html#_source_examples">Source
examples</a> section of the <a href="../../../misc/font_conventions.html">FS
Document Font Conventions</a> document.</p>
</div>
</li>
<li>
<p>Change cut-and-paste phrasing in documents to copy-and-paste</p>
<div class="paragraph">
<p>This is technically more accurate. The change primarily affects the
(now)
<a href="../../misc/install_reference.html#_copy_and_paste_installation_tips">Copy-and-paste
installation tips</a> in the
<a href="../../misc/install_reference.html">Installation Reference</a> document
and references to it.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_drudg_changes">3.2. drudg changes</h3>
<div class="paragraph">
<p>There have been no changes at this time.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-08-23 13:28:25 -0400
</div>
</div>
</body>
</html>